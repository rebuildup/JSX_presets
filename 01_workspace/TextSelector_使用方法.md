# TextSelector モジュラーシステム 使用ガイド

## 1. 概要

TextSelector モジュラーシステムは、After Effects でテキストアニメーションを簡単かつ効率的に作成するための高度なスクリプトシステムです。文字ごとのアニメーション、ランダム効果、ウィグル効果など、様々なテキストアニメーション効果を直感的に制御できます。

バージョン: 2.0.1  
対応: After Effects CC 2019 (16.0) 以降

## 2. インストール方法

1. すべてのスクリプトファイル（`.jsx`ファイル）をAfter Effectsのスクリプトフォルダにコピーします
   - Windows: `C:\Program Files\Adobe\Adobe After Effects [バージョン]\Support Files\Scripts`
   - Mac: `/Applications/Adobe After Effects [バージョン]/Scripts`

2. After Effectsを起動（または再起動）します

3. メニューから `ファイル > スクリプト > TextSelector_Main.jsx` を選択します

## 3. 基本的な使い方

### 3.1 初期設定

1. アニメーションを適用したいコンポジションを開きます

2. `ファイル > スクリプト > TextSelector_Main.jsx` を実行します

3. スクリプトが実行されると、「TextSelector_Controls」という名前のNullレイヤーがコンポジションに作成されます。このレイヤーにはすべてのコントロールエフェクトが含まれています

### 3.2 テキストレイヤーへの適用

1. アニメーションを適用したいテキストレイヤーを選択します

2. `ファイル > スクリプト > TextSelector_Main.jsx` を再度実行します

3. 「Apply TextSelector to Selected Layers」機能が自動的に実行され、選択したテキストレイヤーにアニメーターが追加されます

4. コントロールレイヤー（TextSelector_Controls）のエフェクトを調整して、アニメーションをカスタマイズします

## 4. コントロールレイヤーの使い方

TextSelector_Controlsレイヤーには、以下のモジュールが含まれています：

### 4.1 アニメーションコントロール

- **Animation**: メインのアニメーションキーフレームコントローラー（0-100の値）
- **Delay**: 文字間の遅延時間（秒単位）
- **Ani - Style**: アニメーションスタイル
  - 1: 単一方向
  - 2: 2方向 XY（X軸優先）
  - 3: 2方向 YX（Y軸優先）
- **Posterize(0=FPS)**: フレームレート制御（0=コンポジションのFPS、その他=指定FPS）

### 4.2 不透明度コントロール

- **Opacity - Style**: 不透明度のスタイル
  - 1: 自動（インポイントに基づく）
  - 2: 手動（キーフレームで制御）
- **Opacity (Manual)**: 手動不透明度値（0-100%）
- **Opacity**: 表示用不透明度値

### 4.3 位置コントロール

- **Ani - Position**: 位置の制御値（X, Y座標）
- **Text AnkerPoint**: テキストのアンカーポイント調整

### 4.4 変形コントロール

- **Add Scale**: スケール調整値（X, Y%）
- **Scale : ON**: スケール効果の有効/無効
- **Add Rotation**: 回転調整値（度）
- **Rotation : ON**: 回転効果の有効/無効
- **Add Distortion**: 歪み調整値
- **Add Dis - Axis**: 歪み軸調整値
- **Distortion : ON**: 歪み効果の有効/無効

### 4.5 ウィグルコントロール

- **Add**: ウィグル効果の有効/無効
- **Fluc/Sec**: ウィグル周波数（X, Y）
- **Position**: 位置ウィグル量（X, Y）
- **Scale**: スケールウィグル量（X, Y）
- **Distortion**: 歪みウィグル量
- **Dis - Axis**: 歪み軸ウィグル量
- **Rotation**: 回転ウィグル量

### 4.6 ランダム化システム

- **SeedRandom**: ランダムシード値（ランダム効果の再現性を制御）

### 4.7 システム設定

- **Global Enable**: システム全体の有効/無効
- **Debug Mode**: デバッグモードの有効/無効

## 5. アニメーション作成例

### 5.1 基本的な文字アニメーション

1. テキストレイヤーを作成します
2. TextSelector_Main.jsxを実行してコントロールレイヤーを作成します
3. テキストレイヤーを選択し、TextSelector_Main.jsxを再度実行します
4. コントロールレイヤーで以下の設定を行います：
   - Animation: 0%から100%へのキーフレームを設定
   - Delay: 0.1（文字間の遅延）
   - Ani - Style: 1（単一方向）
   - Opacity (Manual): 0%から100%へのキーフレーム

### 5.2 ランダム位置からのアニメーション

1. 基本的なセットアップを行います
2. コントロールレイヤーで以下の設定を行います：
   - Ani - Style: 2（2方向 XY）
   - SeedRandom: お好みの値（ランダム配置のパターンを変更）
   - Animation: 0%から100%へのキーフレームを設定
   - Delay: 0.05（速い文字間の遅延）

### 5.3 ウィグル効果の追加

1. 基本的なセットアップを行います
2. コントロールレイヤーで以下の設定を行います：
   - Add: オン（ウィグル有効）
   - Fluc/Sec: [3, 3]（X軸とY軸の周波数）
   - Position: [10, 10]（位置のウィグル量）
   - Rotation: 15（回転のウィグル量）

## 6. 高度なテクニック

### 6.1 複数のテキストレイヤーでの使用

同じコントロールレイヤーを使用して、複数のテキストレイヤーにアニメーションを適用できます。各テキストレイヤーを選択し、TextSelector_Main.jsxを実行するだけです。

### 6.2 パフォーマンス最適化

大量のテキストや複雑なアニメーションを使用する場合：

- **Posterize(0=FPS)** を低い値（例：12）に設定して、エクスプレッションの計算頻度を減らします
- 不要なモジュールは無効にします（例：ウィグル効果が不要な場合は **Add** をオフに）
- **Global Enable** を使用して、レンダリング前にすべてのエフェクトを一時的に無効にできます

### 6.3 エクスプレッションの最適化

TextSelector_ExpressionOptimizer.jsxを使用すると、エクスプレッションのパフォーマンスを最適化できます。特に長いテキストや複雑なアニメーションを使用する場合に効果的です。

## 7. トラブルシューティング

### 7.1 スクリプトが表示されない

- After Effectsの環境設定で「スクリプトによるファイルへの書き込みとネットワークへのアクセスを許可」が有効になっていることを確認してください
- スクリプトファイルが正しいフォルダにコピーされていることを確認してください

### 7.2 アニメーションが適用されない

- テキストレイヤーが正しく選択されていることを確認してください
- コントロールレイヤー（TextSelector_Controls）が存在することを確認してください
- **Global Enable** がオンになっていることを確認してください

### 7.3 パフォーマンスの問題

- **Posterize(0=FPS)** の値を調整してみてください
- 不要なモジュールを無効にしてください
- After Effectsのプレビュース解像度を下げてみてください

## 8. バージョン1.xからの移行

TextSelector v1.x（Text_Selector.ffxプリセット）から移行する場合：

1. 既存のText_Selector.ffxプリセットをプロジェクトから削除します
2. TextSelector_Main.jsxスクリプトをコンポジションに適用します
3. 古いプリセットを使用していた各テキストレイヤーに対して：
   - レイヤーを選択します
   - 「Apply TextSelector to Selected Layers」コマンドを実行します
   - 必要に応じて設定を調整します

注意：新しいシステムは各機能を個別のコントロールに分割しているため、既存のアニメーションを完全に一致させるには調整が必要な場合があります。

## 9. システム要件

- After Effects CC 2019 (16.0) 以降
- 推奨: 8GB以上のRAM
- JavaScript Engineのサポート

## 10. サポートとリソース

- 詳細なドキュメントは「docs」フォルダを参照してください
- サンプルプロジェクトは「examples」フォルダを参照してください
- バグ報告や機能リクエストは開発チームにお問い合わせください

---

© 2025 TextSelector Team